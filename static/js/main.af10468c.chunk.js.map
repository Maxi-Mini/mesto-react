{"version":3,"sources":["images/header_logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","onClick","style","display","type","link","name","length","Main","handleEditAvatarClick","handleEditProfileClick","handleAddPlaceClick","handleCardClick","cards","backgroundImage","avatar","about","map","Footer","PopupWithForm","title","children","isOpen","onClose","buttonText","onSubmit","id","action","ImagePopup","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_getResponse","data","method","body","JSON","stringify","description","console","log","all","getCards","getUserInfo","authorization","EditProfilePopup","onUpdateUser","useState","setName","setDescription","useEffect","e","preventDefault","value","onChange","target","minLength","maxLength","required","placeholder","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddPlace","nameRef","linkRef","App","setCards","getAllInfo","userInfo","setCurrentUser","catch","err","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","closeAllPopups","setSelectedCard","selectedCard","id_","Provider","changeLikeCardStatus","newCard","c","deleteCard","filter","setUserInfo","setUserAvatar","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.af10468c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header_logo.bbe2a6ea.svg\";","import headerLogo from '../images/header_logo.svg'\r\nfunction Header(){\r\n    return(\r\n        <header className=\"header\">\r\n        <img className=\"header__logo\" src={headerLogo} alt=\"логотип место\"/>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}){\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n      }\r\n\r\n    function handleLikeClick(){\r\n        onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick(){\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return(\r\n        <div className=\"element\">\r\n            <button className=\"button element__delete-button\" onClick={handleDeleteClick} style={isOwn ? {display: \"block\"} : {display: \"none\"}} aria-label=\"Удалить\" type=\"button\"></button>\r\n            <img className=\"element__image\" onClick={handleClick} src={card.link} alt={card.name}/>\r\n            <div className=\"element__info\">\r\n                <h3 className=\"element__title\">{card.name}</h3>\r\n                <div className=\"element__like\">\r\n                    <button className={isLiked ? \"button element__like-button element__like-button_active\" : \"button element__like-button\"} onClick={handleLikeClick} type=\"button\" aria-label=\"кнопка лайк\"></button>\r\n                    <span className=\"element__like-counter\">{card.likes.length}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Card","import React, {useState, useEffect} from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({handleEditAvatarClick, handleEditProfileClick, handleAddPlaceClick, handleCardClick, cards, onCardLike, onCardDelete}){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n  return(\r\n        <main className=\"content\">\r\n        <section className=\"profile\">\r\n            <div className=\"profile__avatar\" style={{ backgroundImage: `url(${currentUser.avatar})` }} onClick={handleEditAvatarClick}></div>\r\n            <div className=\"profile__bio\">\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                    <p className=\"profile__caption\">{currentUser.about}</p>\r\n                </div>\r\n            <button className=\"profile__edit-button\" type=\"button\" aria-label=\"кнопка редактирования профиля\" onClick={handleEditProfileClick}></button>\r\n            </div>\r\n            <button className=\"profile__add-button\" type=\"button\" aria-label=\"кнопка добавления контента\" onClick={handleAddPlaceClick}></button>\r\n        </section>\r\n        <section className=\"elements\">\r\n             {cards.map((card) => { return (<Card key={card._id} card={card} onCardClick={handleCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>)})}\r\n        </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main","function Footer(){\r\n    return(\r\n        <footer className=\"footer\">\r\n        <p className=\"footer__text\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","function PopupWithForm({title, name, children, isOpen, onClose, buttonText, onSubmit}){\r\n    return(\r\n        <section className={isOpen ? 'popup popup_opened' : 'popup'} id={name}> \r\n        <div className=\"popup__container popup__container_type_input\"> \r\n           <h2 className=\"popup__title\">{title}</h2>  \r\n           <form className=\"popup__form\" onSubmit={onSubmit} action='#' name={name}>\r\n               {children}\r\n             <button className=\"button popup__save-button\" type=\"submit\" aria-label={buttonText}>{buttonText}</button> \r\n           </form> \r\n           <button onClick={onClose} className=\"popup__exit-button\" type=\"button\" aria-label='Закрыть'></button>\r\n        </div> \r\n    </section>\r\n    )\r\n\r\n}\r\n\r\nexport default PopupWithForm","function ImagePopup({card, onClose}){\r\n    return(\r\n        <section className={card.link ? \"popup popup_type_photo popup_opened\" : \"popup popup_type_photo\"} id=\"popup-photo\"> \r\n        <div className=\"popup__container popup__container_type_photo\">\r\n            <button className=\"popup__exit-button\" onClick={onClose} type=\"button\" aria-label=\"закрыть попап\"></button>\r\n            <img className=\"popup__photo\" src={card.link} alt={card.name}/>\r\n            <h2 className=\"popup__caption\">{card.name}</h2>\r\n        </div> \r\n    </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup"," class Api {\r\n    constructor(options){\r\n        this._url = options.url;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _getResponse(res){\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${res.status}`);\r\n    }\r\n\r\n// загружаем карточки с сервера\r\n\r\n    getCards(){\r\n        return fetch(`${this._url}/cards`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._getResponse)\r\n    }\r\n\r\n// загружаем данные о пользователе с сервера\r\n\r\n    getUserInfo(){\r\n        return fetch(`${this._url}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._getResponse)\r\n    }\r\n\r\n// отправка данных профиля на сервер\r\n\r\n    setUserInfo(data){\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.description\r\n              })\r\n        })\r\n        .then(this._getResponse)\r\n    }\r\n\r\n// обновление аватара\r\n\r\n    setUserAvatar(data){\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then(this._getResponse)\r\n    }\r\n    \r\n// добавляем новую карточку на сервер\r\n\r\n    postCard(data){\r\n        console.log(data)\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.title,\r\n                link: data.link\r\n              })\r\n        })\r\n        .then(this._getResponse)\r\n    }\r\n\r\n// ставим лайк на карточку\r\n\r\n    setLike(data){\r\n        return fetch(`${this._url}/cards/likes/${data}`, {\r\n            method: 'PUT',\r\n            headers: this._headers\r\n        })\r\n        .then(this._getResponse)\r\n    }\r\n\r\n// удаляем лайк с карточки\r\n\r\n    deleteLike(data){\r\n        return fetch(`${this._url}/cards/likes/${data}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._getResponse)\r\n    }\r\n\r\n// удаление карточки\r\n\r\n    deleteCard(data){\r\n        return fetch(`${this._url}/cards/${data}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(this._getResponse)\r\n    }\r\n\r\n// данные для отрисовки страницы\r\n\r\n    getAllInfo(){\r\n        return Promise.all([this.getCards(), this.getUserInfo()])\r\n    }\r\n// проверяем наличие лайка\r\n\r\n    changeLikeCardStatus(data, isLiked) {\r\n        console.log(data);\r\n        return fetch(`${this._url}/cards/likes/${data}`, {\r\n          method: `${isLiked ? 'DELETE' : 'PUT'}`,\r\n          headers: this._headers,\r\n        })\r\n          .then(this._getResponse);\r\n      }\r\n}\r\n\r\nexport const api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-27',\r\n    headers:{\r\n      authorization: '6b82b3a4-6e0d-4189-9884-5cc4086ad63c',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  })","import React, { useState, useEffect} from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}){\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n      }\r\n\r\n      function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n      }\r\n\r\n      function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n          name,\r\n          description: description,\r\n        });\r\n      }\r\n\r\n      useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n      }, [currentUser, isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n          title={\"Редактировать профиль\"}\r\n          name={\"popup-edit\"}\r\n          isOpen={isOpen}\r\n          onClose={onClose}\r\n          buttonText={\"Сохранить\"}\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <input\r\n          value={name} onChange={handleChangeName}\r\n            className=\"popup__input popup__input_type_name\"\r\n            type=\"text\"\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            required\r\n            placeholder=\"Имя\"\r\n            name=\"name\"\r\n            id=\"name\"\r\n          />\r\n          <span className=\"popup__input-error\" id=\"name-error\">\r\n            Ошибка\r\n          </span>\r\n          <input\r\n          value={description} onChange={handleChangeDescription}\r\n            className=\"popup__input popup__input_type_job\"\r\n            type=\"text\"\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            required\r\n            placeholder=\"О себе\"\r\n            name=\"description\"\r\n            id=\"description\"\r\n          />\r\n          <span className=\"popup__input-error\" id=\"description-error\">\r\n            Ошибка\r\n          </span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}){\r\n    const avatarRef = React.useRef();\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        onUpdateAvatar({\r\n          avatar: avatarRef.current.value,\r\n        });\r\n      } \r\n\r\n      return (\r\n        <PopupWithForm\r\n        title={\"Обновить аватар\"}\r\n        name={\"avatar-update\"}\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        buttonText={\"Сохранить\"}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n        ref={avatarRef}\r\n          className=\"popup__input popup__input_type_avatar\"\r\n          type=\"url\"\r\n          required\r\n          placeholder=\"Ссылка на картинку\"\r\n          name=\"avatar\"\r\n          id=\"avatar\"\r\n        />\r\n        <span className=\"popup__input-error\" id=\"avatar-error\">\r\n          Ошибка\r\n        </span>\r\n      </PopupWithForm>\r\n      )\r\n\r\n}\r\n\r\nexport default EditAvatarPopup","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst AddPlacePopup = ({ isOpen, onClose, onAddPlace }) => {\r\n  const nameRef = React.useRef();\r\n  const linkRef = React.useRef();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      title: nameRef.current.value,\r\n      link: linkRef.current.value,\r\n    });\r\n  };\r\n      return(\r\n        <PopupWithForm\r\n        title={\"Новое место\"}\r\n        name={\"popup-add\"}\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        buttonText={\"Сохранить\"}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          className=\"popup__input popup__input_type_name\"\r\n          type=\"text\"\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n          required\r\n          placeholder=\"Название\"\r\n          name=\"title\"\r\n          id=\"title\"\r\n          ref={nameRef}\r\n        />\r\n        <span className=\"popup__input-error\" id=\"title-error\">\r\n          Ошибка\r\n        </span>\r\n        <input\r\n          className=\"popup__input popup__input_type_job\"\r\n          type=\"url\"\r\n          required\r\n          placeholder=\"Ссылка на картинку\"\r\n          name=\"link\"\r\n          id=\"link\"\r\n          ref={linkRef}\r\n        />\r\n        <span className=\"popup__input-error\" id=\"link-error\">\r\n          Ошибка\r\n        </span>\r\n      </PopupWithForm>\r\n      )\r\n\r\n}\r\n\r\nexport default AddPlacePopup","import React, { useState, useEffect } from \"react\";\r\nimport \"../index.css\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport {api} from '../utils/Api';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\n\r\nfunction App() {\r\n\r\n  // card\r\n\r\n  const [cards, setCards] = useState([]);\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getAllInfo()\r\n      .then((res) => {\r\n        const [cards, userInfo] = res;\r\n        setCards(cards);\r\n        setCurrentUser(userInfo);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n  \r\n  // like\r\n\r\n  const handleCardLike=(card) => {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\r\n        setCards((cards) => cards.map((c) => c._id === card._id ? newCard : c))\r\n    }).catch((err) => console.log(err));\r\n}\r\n\r\n// delete\r\n\r\n  const handleCardDelete=(card)=>{\r\n    api.deleteCard(card._id).then((res)=>{\r\n      setCards((cards)=>cards.filter((c)=>c._id !== card._id))\r\n    }).catch((err) => console.log(err));\r\n  }\r\n\r\n  // popup\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n\r\n  const onEditProfile = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n  const onAddPlace = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n  const onEditAvatar = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n  const closeAllPopups = () => {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard({ title: \"\", link: \"\" });\r\n  };\r\n\r\n  // selected\r\n\r\n  const [selectedCard, setSelectedCard] = useState({ title: \"\", link: \"\" });\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  };\r\n\r\n  // editprofile\r\n\r\n  const handleUpdateUser = (data) => {\r\n    api.setUserInfo(data).then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    }).catch((err) => console.log(err))\r\n  }\r\n\r\n  // editavatar\r\n\r\n  const handleUpdateAvatar = (data) => {\r\n    api.setUserAvatar(data).then((res) => {\r\n      setCurrentUser(res);\r\n      closeAllPopups();\r\n    }).catch((err) => console.log(err))\r\n  }\r\n\r\n  //newplace\r\n\r\n  const handleAddPlaceSubmit = (data) => {\r\n    api.postCard(data).then((res) => {\r\n      setCards([res, ...cards]);\r\n      closeAllPopups();\r\n    }).catch((err) => console.log(err))\r\n  }\r\n\r\n  // userinfj\r\n\r\n  const [currentUser, setCurrentUser] = useState({\r\n    name: \"\",\r\n    about: \"\",\r\n    id_: \"\",\r\n  });\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"root\">\r\n        <Header />\r\n        <Main\r\n          handleEditProfileClick={onEditProfile}\r\n          handleAddPlaceClick={onAddPlace}\r\n          handleEditAvatarClick={onEditAvatar}\r\n          handleCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={handleCardLike}\r\n          onCardDelete={handleCardDelete}\r\n        />\r\n        <Footer />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          />\r\n          <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n          <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n          />\r\n        \r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        \r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}